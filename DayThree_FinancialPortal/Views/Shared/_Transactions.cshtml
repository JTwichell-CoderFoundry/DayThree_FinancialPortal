@using DayThree_FinancialPortal.Models
@model Household

@{
    ViewBag.Title = "Index";
}

<!-- page content -->
<div class="page-title">
    <div class="title_left">
        <h3>Users <small>Some examples to get you started</small></h3>
    </div>
    <div class="title_right">
        <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search for...">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">Go!</button>
                </span>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Transactions </h2>                
                <div class="clearfix"></div>
            </div>
            <div class="x_content">


                @foreach (var account in Model.BankAccounts)
                {
                    <h3><b>@account.Name</b></h3>
                    <br />
                    <p class="text-muted font-13 m-b-30">
                        @Html.ActionLink("Add Transaction", "Create", "Transactions", new { id = account.Id }, new { @class = "btn btn-sm templateBtn" })
                    </p>
                    <br />
                    <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                        <tr>
                            <th>
                                @Html.DisplayName("Amount")
                            </th>
                            <th>
                                @Html.DisplayName("Type")
                            </th>
                            <th>
                                @Html.DisplayName("Created")
                            </th>
                            <th>
                                @Html.DisplayName("Entered By")
                            </th>
                            <th>
                                @Html.DisplayName("Memo")
                            </th>
                            <th>
                                @Html.DisplayName("Reconciled")
                            </th>
                            <th>
                                @Html.DisplayName("ReconciledAmount")
                            </th>
                            <th></th>
                        </tr>

                        @foreach (var transaction in account.Transactions)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.Amount)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.Type)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.Created)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.EnteredBy.FirstName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.Description)
                                </td>


                                <td>
                                    @Html.DisplayFor(modelItem => transaction.Reconciled)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => transaction.ReconciledAmount)
                                </td>

                                <td>
                                    @Html.ActionLink("Edit", "Edit", new { id = transaction.Id }) |
                                    @Html.ActionLink("Delete", "Delete", new { id = transaction.Id })
                                </td>
                            </tr>
                        }
                    </table>
                }

            </div>
        </div>
    </div>
</div>
